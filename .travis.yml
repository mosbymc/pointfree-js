language: "node_js"

cache:
  directories:
    - "node_modules"

node_js:
  - "6"
  - "7"

before_script: "cc-test-reporter before-build"

script: "npm run lint:test"

after_success:
- "npm run documentation"
- "npm run coverage:report"
- "npm bundle:minify"

after_script:
- "npm install -g codeclimate-test-reporter"
- "CODECLIMATE_REPO_TOKEN=88f6338a30b9b3b63e26685f78c813c4ca0448d6e21b7f2fed6878ccc11e7f47 codeclimate-test-reporter < coverage/lcov.info"

branches:
  only:
  - "develop"
  - "master"

addons:
  code_climate:
    repo_token: 88f6338a30b9b3b63e26685f78c813c4ca0448d6e21b7f2fed6878ccc11e7f47
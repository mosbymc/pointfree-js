<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: combinators.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: combinators.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @sig
 * @description d
 * @param {Array} fns - One or more comma separated function arguments
 * @return {function} - a
 */
function all(...fns) {
    return function _all(...args) {
        return fns.every(function _testAll(fn) {
            return fn(...args);
        });
    };
}

/**
 * @sig
 * @description d
 * @param {Array} fns - One or more comma separated function arguments
 * @return {function} - a
 */
function any(...fns) {
    return function _any(...args) {
        return fns.some(function _testAny(fn) {
            return fn(...args);
        });
    };
}

/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} x
 * @param {*} y - a
 * @param {*} z - b
 * @return {*} - c
 */
var c = curry(function _c(x, y, z) {
    console.log(x, y, z);
    return x(y)(z);
});

var rev = (...args) => args.reverse();

/**
 * @sig compose :: (b -> c) -> (a -> b) -> (a -> c)
 * @description d
 * @type {function}
 * @note: @see {@link pipe}
 * @param {Array} fns - a
 * @return {*} - b
 */
function compose(...fns) {
    fns = fns.reverse();
    return pipe(...fns);
}

/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} exp1 - a
 * @param {function} exp2 - b
 * @param {function} cond - c
 * @return {*} - d
 */
var condition = curry((exp1, exp2, cond) => cond(exp1, exp2));

var notFn = condition(constant(x => x), x => x);

var n = function _n(x, y, z) {
    return function _n_(...args) {
        console.log(x, y, z);
        x ? y(...args) : z(...args);
    };
};

/**
 * @sig constant :: a -> () -> a
 * @description d
 * @param {*} item - a
 * @return {function} - Returns a function, that when invoked, will
 * return the item passed to the constant function as an argument.
 */
function constant(item) {
    return function _constant() {
        return item;
    };
}

/**
 * @sig curry :: (* -> a) -> (* -> a)
 * @description d
 * @param {function} fn - a
 * @return {function|*} - b
 */
function curry(fn) {
    if (!fn.length || 1 >= fn.length) return fn;
    return curryN(this, fn.length, fn);
}

/**
 * @sig curryN :: (* -> a) -> (* -> a)
 * @description Curries a function to a specified arity
 * @param {Object} context - The context the curried function should be invoked with
 * @param {number} arity - The number of arguments to curry the function for
 * @param {function} fn - The function to be curried
 * @param {Array} received - An array of the arguments to be applied to the function
 * @return {function | *} - Returns either a function waiting for more arguments to
 * be applied before invocation, or will return the result of the function applied
 * to the supplied arguments if the specified number of arguments have been received.
 */
function curryN(context, arity, fn, received = []) {
    if (fn.orig &amp;&amp; fn.orig !== fn) return curryN(context, arity, fn.orig, received);
    function _curryN(...rest) {
        var combined = received.concat(rest);
        if (arity > combined.length) return curryN(context, arity, fn, combined);
        return fn.call(context, ...combined.slice(0, arity));
    }

    _curryN.orig = fn;
    return _curryN;
}

/**
 * @sig
 * @description d
 * @param {function} fn - a
 * @return {Function|*} - b
 */
function curryRight(fn) {
    return curryN(this, fn.length, function _wrapper(...args) {
        return fn.call(this, ...args.reverse());
    });
}

/**
 * @sig
 * @description d
 * @param {*} - a
 * @return {function} - b
 */
var first = constant;

/**
 * @sig
 * @description d
 * @param {function} fn - a
 * @return {*} - b
 */
function fixedPoint(fn) {
    function _fixedPoint(x) {
        return fn(function _y_(v) {
            x(x)(v);
        });
    }
    return _fixedPoint(_fixedPoint);
}

/**
 * @sig
 * @description d
 * @param {function} join - a
 * @param {function} fn1 - b
 * @param {function} fn2 - c
 * @return {function} - d
 */
var fork = curry((join, fn1, fn2) => {
    return (...args) => join(fn1(...args), fn2(...args));
});

/**
 * @sig Identity :: a -> a
 * @description Identity function; takes any item and returns same item when invoked
 * @param {*} item - Any value of any type
 * @return {*} - returns item
 */
var identity = item => item;

/**
 * @sig ifElse :: Function -> ( Function -> ( Function -> (a -> b) ) )
 * @description Takes a predicate function that is applied to the data; If a truthy value
 * is returned from the application, the provided ifFunc argument will be
 * invoked, passing the data as an argument, otherwise the elseFunc is
 * invoked with the data as an argument.
 * @type {function}
 * @param {function} predicate - a
 * @param {function} ifFunc - b
 * @param {function} elseFunc - c
 * @param {*} data - d
 * @return {*} - returns the result of invoking the ifFunc or elseFunc
 * on the data
 */
var ifElse = curry((predicate, ifFunc, elseFunc, data) => predicate(data) ? ifFunc(data) : elseFunc(data));

/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} predicate - a
 * @param {function} ifFunc - b
 * @param {*} ifArg - c
 * @param {*} thatArg - d
 * @return {*} - e
 */
var ifThisThenThat = curry((predicate, ifFunc, ifArg, thatArg) => predicate(ifArg) ? ifFunc(thatArg) : thatArg);

/**
 * @sig kestrel :: a -> () -> a
 * @description d
 * @type {function}
 * @note @see {@link constant}
 * @param {*} item - a
 * @return {function} - Returns a function, that when invoked, will
 * return the item passed to the constant function as an argument.
 */
var kestrel = constant;

/**
 * @sig
 * @description d
 * @param {function} a - a
 * @return {*} - b
 */
var m = a => a(a);

/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} a - a
 * @param {function} b - b
 * @return {*} - c
 */
var o = curry((a, b) => b(a(b)));

/**
 * @sig pipe :: [a] -> (b -> c)
 * @description -  Takes a List of functions as arguments and returns
 * a function waiting to be invoked with a single item. Once the returned
 * function is invoked, it will reduce the List of functions over the item,
 * starting with the first function in the List and working through
 * sequentially. Performs a similar functionality to compose, but applies
 * the functions in reverse order to that of compose.
 * @refer {compose}
 * @note @see {@link compose}
 * @param {function} fn - The function to run initially; may be any arity.
 * @param {Array} fns - The remaining functions in the pipeline. Each receives
 * its input from the output of the previous function. Therefore each of these
 * functions must be unary.
 * @return {function} - Returns a function waiting for the item over which
 * to reduce the functions.
 */
function pipe(fn, ...fns) {
    return function _pipe(...args) {
        return fns.reduce(function pipeReduce(item, f) {
            return f(item);
        }, fn(...args));
    };
}

/**
 * @type:
 * @description:
 * @param: {function} a
 * @param: {function} b
 * @param: {*} c
 * @return: {*}
 */
var q = curry((a, b, c) => b(a(c)));

//const reduce = (accFn, start, xs) => xs.reduce(accFn, start);
/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} accFunc - a
 * @param {*} start - b
 * @param {Array} xs - c
 * @return {Array} - d
 */
var reduce = curry(function _reduce(accFunc, start, xs) {
    /*
     for (let item of xs) {
     start = accFunc(start, item);
     }
     return start;
     */

    /*
     for (let item of xs) {
     let next = txf(acc, item);//we could also pass an index or xs, but K.I.S.S.
     acc = next &amp;&amp; next[reduce.stopper] || next;// {[reduce.stopper]:value} or just a value
     if (next[reduce.stopper]) {
     break;
     }
     }
     return acc;

     //goes outside reduce definition; or side by side with declaration:
     //set reduce.stopper be a Symbol that only is only ever = to reduce.stopper itself
     Object.defineProperty(reduce, 'stopper', {
     enumerable: false,
     configurable: false,
     writable: false,
     value: Symbol('stop reducing')//no possible computation could come up with this by accident
     });
     */
    return xs.reduce(accFunc, start);
});

/**
 * @sig
 * @description d
 * @type {function}
 * @return {*} - a
 */
var second = constant(identity);

/**
 * @sig
 * @description d
 * @param {Array} fns - a
 * @return {function} - b
 */
function sequence(fns) {
    return function _sequence(...args) {
        fns.forEach(function fSequence(fn) {
            fn(...args);
        });
    };
}

/**
 * @sig
 * @description d
 * @type {function}
 * @param {*} x - a
 * @param {function} f = b
 * @return {*} - c
 */
var t = curry((x, f) => f(x));

/**
 * @sig
 * @description d
 * @refer {t}
 * @note @see {@link t}
 */
var thrush = t;

/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} a - a
 * @param {function} b - b
 * @return {*} - c
 */
var u = curry((a, b) => b(a(a)(b)));

/**
 * @sig
 * @description d
 * @param {function} fn - a
 * @return {function} - b
 */
function uncurry(fn) {
    if (fn &amp;&amp; fn.orig) return fn.orig;
    return fn;
}

/**
 * @sig
 * @description d
 * @type {function}
 * @param {number} depth - a
 * @param {function} fn - b
 * @return {function|*} - c
 */
var uncurryN = curry(function uncurryN(depth, fn) {
    console.log(depth, fn);
    return curryN(this, depth, function _uncurryN(...args) {
        console.log(args);
        var currentDepth = 1,
            value = fn,
            idx = 0,
            endIdx;
        while (currentDepth &lt;= depth &amp;&amp; 'function' === typeof value) {
            endIdx = currentDepth === depth ? args.length : idx + value.length;
            value = value.apply(this, args.slice(idx, endIdx));
            currentDepth += 1;
            idx = endIdx;
        }
        return value;
    });
});

/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} a - a
 * @param {*} b - b
 * @return {*} - c
 */
var w = curry((a, b) => a(b)(b));

/**
 * @sig when :: Function -> (Function -> (a -> b))
 * @description Similar to ifElse, but no 'elseFunc' argument. Instead, if the application
 * of the predicate to the data returns truthy, the transform is applied to
 * the data. Otherwise, the data is returned without invoking the transform.
 * @type {function}
 * @param {function} predicate - a
 * @param {function} transform - b
 * @param {*} data - c
 * @return {*} - d
 */
var when = curry((predicate, transform, data) => predicate(data) ? transform(data) : data);

/**
 * @sig
 * @description d
 * @type {function}
 * @param {function} predicate - a
 * @param {function} transform - b
 * @param {*} data - c
 * @return {*} - d
 */
var whenNot = curry((predicate, transform, data) => !predicate(data) ? transform(data) : data);

/**
 * @sig
 * @description d
 */
var y = fixedPoint;

/**
 * @sig
 * @description d
 * @param {function} fn - a
 * @return {function} - b
 */
function applyWhenReady(fn) {
    var values = [];
    function _applyWhenReady(...args) {
        values = values.concat(args);
        return _applyWhenReady;
    }

    _applyWhenReady.apply = function _apply() {
        return fn(...values);
    };

    _applyWhenReady.leftApply = _applyWhenReady.apply;

    _applyWhenReady.rightApply = function _rightApply() {
        console.log(values);
        return fn(...values.reverse());
    };

    return _applyWhenReady;
}

export { all, any, applyWhenReady, c, compose, constant, curry, curryN, curryRight, first, fixedPoint, fork, identity,
          ifElse, ifThisThenThat, kestrel, m, pipe, o, q, reduce, rev, second, sequence, t, thrush, u, uncurry, uncurryN, w, when, whenNot, y };</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#add">add</a></li><li><a href="global.html#adjust">adjust</a></li><li><a href="global.html#after">after</a></li><li><a href="global.html#all">all</a></li><li><a href="global.html#and">and</a></li><li><a href="global.html#any">any</a></li><li><a href="global.html#ap">ap</a></li><li><a href="global.html#apply">apply</a></li><li><a href="global.html#applyWhenReady">applyWhenReady</a></li><li><a href="global.html#arrayLens">arrayLens</a></li><li><a href="global.html#arraySet">arraySet</a></li><li><a href="global.html#before">before</a></li><li><a href="global.html#binary">binary</a></li><li><a href="global.html#bind">bind</a></li><li><a href="global.html#bindFunction">bindFunction</a></li><li><a href="global.html#both">both</a></li><li><a href="global.html#c">c</a></li><li><a href="global.html#chain">chain</a></li><li><a href="global.html#collectionTypes">collectionTypes</a></li><li><a href="global.html#compose">compose</a></li><li><a href="global.html#concat">concat</a></li><li><a href="global.html#condition">condition</a></li><li><a href="global.html#constant">constant</a></li><li><a href="global.html#containerIterator">containerIterator</a></li><li><a href="global.html#curry">curry</a></li><li><a href="global.html#curryN">curryN</a></li><li><a href="global.html#curryRight">curryRight</a></li><li><a href="global.html#deepClone">deepClone</a></li><li><a href="global.html#deepCopy">deepCopy</a></li><li><a href="global.html#defaultPredicate">defaultPredicate</a></li><li><a href="global.html#delegatesFrom">delegatesFrom</a></li><li><a href="global.html#delegatesTo">delegatesTo</a></li><li><a href="global.html#divide">divide</a></li><li><a href="global.html#dropping">dropping</a></li><li><a href="global.html#either">either</a></li><li><a href="global.html#equals">equals</a></li><li><a href="global.html#except">except</a></li><li><a href="global.html#falsey">falsey</a></li><li><a href="global.html#filter">filter</a></li><li><a href="global.html#filtering">filtering</a></li><li><a href="global.html#filterReducer">filterReducer</a></li><li><a href="global.html#first">first</a></li><li><a href="global.html#fixedPoint">fixedPoint</a></li><li><a href="global.html#flatMap">flatMap</a></li><li><a href="global.html#flatMapWith">flatMapWith</a></li><li><a href="global.html#flip">flip</a></li><li><a href="global.html#fmap">fmap</a></li><li><a href="global.html#fork">fork</a></li><li><a href="global.html#functionClone">functionClone</a></li><li><a href="global.html#genericCacher">genericCacher</a></li><li><a href="global.html#getWith">getWith</a></li><li><a href="global.html#greaterThan">greaterThan</a></li><li><a href="global.html#greaterThanOrEqual">greaterThanOrEqual</a></li><li><a href="global.html#guard">guard</a></li><li><a href="global.html#has">has</a></li><li><a href="global.html#hyloWith">hyloWith</a></li><li><a href="global.html#identity">identity</a></li><li><a href="global.html#ifElse">ifElse</a></li><li><a href="global.html#ifThisThenThat">ifThisThenThat</a></li><li><a href="global.html#improvedLensPath">improvedLensPath</a></li><li><a href="global.html#inObject">inObject</a></li><li><a href="global.html#intersect">intersect</a></li><li><a href="global.html#invoke">invoke</a></li><li><a href="global.html#isArray">isArray</a></li><li><a href="global.html#isBoolean">isBoolean</a></li><li><a href="global.html#isConstant">isConstant</a></li><li><a href="global.html#isEither">isEither</a></li><li><a href="global.html#isFunction">isFunction</a></li><li><a href="global.html#isFunctor">isFunctor</a></li><li><a href="global.html#isFuture">isFuture</a></li><li><a href="global.html#isIdentity">isIdentity</a></li><li><a href="global.html#isIo">isIo</a></li><li><a href="global.html#isJust">isJust</a></li><li><a href="global.html#isLeft">isLeft</a></li><li><a href="global.html#isList">isList</a></li><li><a href="global.html#isMaybe">isMaybe</a></li><li><a href="global.html#isMonad">isMonad</a></li><li><a href="global.html#isNothing">isNothing</a></li><li><a href="global.html#isNull">isNull</a></li><li><a href="global.html#isNumber">isNumber</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isRight">isRight</a></li><li><a href="global.html#isSomething">isSomething</a></li><li><a href="global.html#isString">isString</a></li><li><a href="global.html#isSymbol">isSymbol</a></li><li><a href="global.html#isUndefined">isUndefined</a></li><li><a href="global.html#isValidation">isValidation</a></li><li><a href="global.html#kestrel">kestrel</a></li><li><a href="global.html#leftApply">leftApply</a></li><li><a href="global.html#lens">lens</a></li><li><a href="global.html#lensPath">lensPath</a></li><li><a href="global.html#lessThan">lessThan</a></li><li><a href="global.html#lessThanOrEqual">lessThanOrEqual</a></li><li><a href="global.html#lift2">lift2</a></li><li><a href="global.html#lift3">lift3</a></li><li><a href="global.html#lift4">lift4</a></li><li><a href="global.html#liftN">liftN</a></li><li><a href="global.html#m">m</a></li><li><a href="global.html#makeLenses">makeLenses</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#mapped">mapped</a></li><li><a href="global.html#mapping">mapping</a></li><li><a href="global.html#mapReducer">mapReducer</a></li><li><a href="global.html#mapSet">mapSet</a></li><li><a href="global.html#mapWith">mapWith</a></li><li><a href="global.html#maybe">maybe</a></li><li><a href="global.html#mcompose">mcompose</a></li><li><a href="global.html#memoizer">memoizer</a></li><li><a href="global.html#mjoin">mjoin</a></li><li><a href="global.html#modulus">modulus</a></li><li><a href="global.html#multiply">multiply</a></li><li><a href="global.html#negate">negate</a></li><li><a href="global.html#noop">noop</a></li><li><a href="global.html#not">not</a></li><li><a href="global.html#notEqual">notEqual</a></li><li><a href="global.html#nth">nth</a></li><li><a href="global.html#o">o</a></li><li><a href="global.html#objectLens">objectLens</a></li><li><a href="global.html#objectSet">objectSet</a></li><li><a href="global.html#observableStatus">observableStatus</a></li><li><a href="global.html#once">once</a></li><li><a href="global.html#or">or</a></li><li><a href="global.html#over">over</a></li><li><a href="global.html#pipe">pipe</a></li><li><a href="global.html#pluckWith">pluckWith</a></li><li><a href="global.html#prism">prism</a></li><li><a href="global.html#prismPath">prismPath</a></li><li><a href="global.html#put">put</a></li><li><a href="global.html#q">q</a></li><li><a href="global.html#reduce">reduce</a></li><li><a href="global.html#repeat">repeat</a></li><li><a href="global.html#reverse">reverse</a></li><li><a href="global.html#rightApply">rightApply</a></li><li><a href="global.html#safe">safe</a></li><li><a href="global.html#second">second</a></li><li><a href="global.html#sequence">sequence</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#setSet">setSet</a></li><li><a href="global.html#shallowClone">shallowClone</a></li><li><a href="global.html#sortComparer">sortComparer</a></li><li><a href="global.html#sortDirection">sortDirection</a></li><li><a href="global.html#split">split</a></li><li><a href="global.html#strictEquals">strictEquals</a></li><li><a href="global.html#strictNotEqual">strictNotEqual</a></li><li><a href="global.html#subtract">subtract</a></li><li><a href="global.html#t">t</a></li><li><a href="global.html#taking">taking</a></li><li><a href="global.html#tap">tap</a></li><li><a href="global.html#ternary">ternary</a></li><li><a href="global.html#thrush">thrush</a></li><li><a href="global.html#toContainerType">toContainerType</a></li><li><a href="global.html#toFuture">toFuture</a></li><li><a href="global.html#toIdentity">toIdentity</a></li><li><a href="global.html#toJust">toJust</a></li><li><a href="global.html#toList">toList</a></li><li><a href="global.html#toMaybe">toMaybe</a></li><li><a href="global.html#transduce">transduce</a></li><li><a href="global.html#truthy">truthy</a></li><li><a href="global.html#tryCatch">tryCatch</a></li><li><a href="global.html#type">type</a></li><li><a href="global.html#u">u</a></li><li><a href="global.html#unary">unary</a></li><li><a href="global.html#uncurry">uncurry</a></li><li><a href="global.html#uncurryN">uncurryN</a></li><li><a href="global.html#unfold">unfold</a></li><li><a href="global.html#unfoldWith">unfoldWith</a></li><li><a href="global.html#unifiedLens">unifiedLens</a></li><li><a href="global.html#view">view</a></li><li><a href="global.html#voidFn">voidFn</a></li><li><a href="global.html#w">w</a></li><li><a href="global.html#when">when</a></li><li><a href="global.html#whenNot">whenNot</a></li><li><a href="global.html#wrap">wrap</a></li><li><a href="global.html#y">y</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.4</a> on Mon Aug 07 2017 12:35:07 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
